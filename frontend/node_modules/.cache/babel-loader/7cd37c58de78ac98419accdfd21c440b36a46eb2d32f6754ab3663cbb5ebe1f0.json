{"ast":null,"code":"import \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.date.now.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/web.timers.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport { ref } from \"vue\";\nimport TopNavbar from \"../components/TopNavbar.vue\";\nimport HeroSection from \"../components/HeroSection.vue\";\nimport BottomFooter from \"../components/BottomFooter.vue\";\nexport default {\n  __name: 'LoginView',\n  setup: function setup(__props, _ref) {\n    var expose = _ref.expose;\n    expose();\n    var imgSource = \"(img/pexels-pixabay-33153-2.jpg)\";\n    console.log(new Date(Date.now() + 3600000));\n    var firstName = ref(\"\");\n    var lastName = ref(\"\");\n    var emailReg = ref(\"\");\n    var passwordReg = ref(\"\");\n    var emailSign = ref(\"\");\n    var passwordSign = ref(\"\");\n    var isValidReg = ref(false);\n    var register = function register(event) {\n      var nameIsValid = firstName.value !== \"\" && lastName.value !== \"\";\n      var emailIsValid = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(emailReg.value);\n      var passwordIsValid = passwordReg.value !== \"\";\n      var formIsValid = nameIsValid && emailIsValid && passwordIsValid;\n      if (!formIsValid) {\n        isValidReg.value = true;\n      }\n      if (formIsValid) {\n        var newUser = {\n          firstName: firstName.value,\n          lastName: lastName.value,\n          email: emailReg.value,\n          password: passwordReg.value\n        };\n        fetch(\"http://localhost:8081/user/register\", {\n          method: \"Post\",\n          headers: {\n            \"content-type\": \"application/json\"\n          },\n          body: JSON.stringify(newUser)\n        }).then(function (res) {\n          if (!res.ok) {\n            throw new Error(\"error\");\n          }\n          return res.text();\n        }).then(function (data) {\n          swal({\n            title: \"Success\",\n            text: \"You are registered\",\n            icon: \"success\"\n          });\n          setTimeout(function () {\n            window.open(\"http://localhost:8080/dashboard\", \"_self\");\n          }, 2000);\n        })[\"catch\"](function (error) {\n          console.log(error);\n          swal({\n            title: \"Error\",\n            text: \"Already existing user\",\n            icon: \"error\"\n          });\n        });\n      }\n    };\n    var login = function login(event) {\n      var emailIsValid = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(emailSign.value);\n      var passwordIsValid = passwordSign.value !== \"\";\n      var formIsValid = emailIsValid && passwordIsValid;\n      console.log(formIsValid);\n      if (formIsValid) {\n        var user = {\n          email: emailSign.value,\n          password: passwordSign.value\n        };\n        fetch(\"http://localhost:8081/user/login\", {\n          method: \"Post\",\n          headers: {\n            \"content-type\": \"application/json\"\n          },\n          body: JSON.stringify(user)\n        }).then(function (res) {\n          if (!res.ok) {\n            throw new Error(\"error\");\n          }\n          return res.text();\n        }).then(function (data) {\n          swal({\n            title: \"Success\",\n            text: \"You are registered\",\n            icon: \"success\"\n          });\n          setTimeout(function () {\n            window.open(\"http://localhost:8080/dashboard\", \"_self\");\n          }, 2000);\n        })[\"catch\"](function (error) {\n          console.log(error);\n          swal({\n            title: \"Error\",\n            text: \"Access Denied\",\n            icon: \"error\"\n          });\n        });\n      }\n    };\n    var __returned__ = {\n      imgSource: imgSource,\n      firstName: firstName,\n      lastName: lastName,\n      emailReg: emailReg,\n      passwordReg: passwordReg,\n      emailSign: emailSign,\n      passwordSign: passwordSign,\n      isValidReg: isValidReg,\n      register: register,\n      login: login,\n      ref: ref,\n      TopNavbar: TopNavbar,\n      HeroSection: HeroSection,\n      BottomFooter: BottomFooter\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"mappings":"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","names":["ref","TopNavbar","HeroSection","BottomFooter","imgSource","console","log","Date","now","firstName","lastName","emailReg","passwordReg","emailSign","passwordSign","isValidReg","register","event","nameIsValid","value","emailIsValid","test","passwordIsValid","formIsValid","newUser","email","password","fetch","method","headers","body","JSON","stringify","then","res","ok","Error","text","data","swal","title","icon","setTimeout","window","open","error","login","user"],"sources":["/home/viki/Projects/JSExamProjectFinal/Vue/SpaceRockVue/frontend/src/views/LoginView.vue"],"sourcesContent":["<template>\n  <div>\n    <HeroSection :imgSource=\"imgSource\" />\n    <main class=\"text-justify\">\n      <div class=\"container mx-auto px-6 py-4 bg-slate-200\">\n        <p class=\"pt-2 text-lg text-center font-bold py-4\">Contact Us</p>\n        <div class=\"text-justify p-2\">\n          <p>\n            Feel free to contact us in regard of a research projects, loaning\n            and approving materials or if you have any questions about our\n            services via\n            <span class=\"uppercase font-bold italic\"\n              >spacerock@spacerock.com</span\n            >.\n          </p>\n          <p class=\"text-center py-4\">\n            Register or login below to gain access to the database.\n          </p>\n        </div>\n        <div class=\"flex flex-col md:flex-row justify-around items-center\">\n          <!--Register-->\n          <div\n            class=\"\n              block\n              p-6\n              rounded-lg\n              shadow-lg\n              bg-white\n              m-2\n              w-full\n              md:w-1/2\n              lg:w-1/3\n            \"\n          >\n            <form id=\"registerForm\" @submit.prevent=\"register\">\n              <div class=\"grid grid-cols-2 gap-4\">\n                <div class=\"form-group mb-6\">\n                  <input\n                    type=\"text\"\n                    required\n                    class=\"\n                      form-control\n                      block\n                      w-full\n                      px-3\n                      py-1.5\n                      text-base\n                      font-normal\n                      text-gray-700\n                      bg-white bg-clip-padding\n                      border border-solid border-gray-300\n                      rounded\n                      transition\n                      ease-in-out\n                      m-0\n                      focus:text-gray-700\n                      focus:bg-white\n                      focus:border-indigo-600\n                      focus:outline-none\n                    \"\n                    v-model=\"firstName\"\n                    aria-describedby=\"firstName\"\n                    placeholder=\"First name\"\n                  />\n                </div>\n                <div class=\"form-group mb-6\">\n                  <input\n                    type=\"text\"\n                    required\n                    class=\"\n                      form-control\n                      block\n                      w-full\n                      px-3\n                      py-1.5\n                      text-base\n                      font-normal\n                      text-gray-700\n                      bg-white bg-clip-padding\n                      border border-solid border-gray-300\n                      rounded\n                      transition\n                      ease-in-out\n                      m-0\n                      focus:text-gray-700\n                      focus:bg-white\n                      focus:border-indigo-600\n                      focus:outline-none\n                    \"\n                    v-model=\"lastName\"\n                    aria-describedby=\"lastName\"\n                    placeholder=\"Last name\"\n                  />\n                </div>\n              </div>\n              <div class=\"form-group mb-6\">\n                <input\n                  type=\"email\"\n                  required\n                  class=\"\n                    form-control\n                    block\n                    w-full\n                    px-3\n                    py-1.5\n                    text-base\n                    font-normal\n                    text-gray-700\n                    bg-white bg-clip-padding\n                    border border-solid border-gray-300\n                    rounded\n                    transition\n                    ease-in-out\n                    m-0\n                    focus:text-gray-700\n                    focus:bg-white\n                    focus:border-indigo-600\n                    focus:outline-none\n                  \"\n                  v-model=\"emailReg\"\n                  placeholder=\"Email address\"\n                />\n              </div>\n              <div class=\"form-group mb-6\">\n                <input\n                  type=\"password\"\n                  minlength=\"2\"\n                  required\n                  class=\"\n                    form-control\n                    block\n                    w-full\n                    px-3\n                    py-1.5\n                    text-base\n                    font-normal\n                    text-gray-700\n                    bg-white bg-clip-padding\n                    border border-solid border-gray-300\n                    rounded\n                    transition\n                    ease-in-out\n                    m-0\n                    focus:text-gray-700\n                    focus:bg-white\n                    focus:border-indigo-600\n                    focus:outline-none\n                  \"\n                  v-model=\"passwordReg\"\n                  placeholder=\"Password\"\n                />\n              </div>\n              <button\n                class=\"\n                  w-full\n                  inline-block\n                  px-6\n                  py-2.5\n                  bg-yellow-500\n                  text-black\n                  font-bold\n                  text-xs\n                  leading-tight\n                  uppercase\n                  rounded\n                  shadow-md\n                  hover:bg-yellow-600 hover:shadow-lg\n                  active:bg-yellow-700 active:shadow-lg\n                \"\n              >\n                Register\n              </button>\n              <p id=\"requiredField\" :class='{isValidReg: \"font-bold\"}' class=\"pt-1.5 px-1 text-xs text-red-700\">\n                All fields are required\n              </p>\n            </form>\n          </div>\n          <!--register end-->\n          <!--Login-->\n          <div\n            class=\"\n              block\n              p-6\n              rounded-lg\n              shadow-lg\n              bg-white\n              m-2\n              w-full\n              md:w-1/2\n              lg:w-1/3\n            \"\n          >\n            <form @submit.prevent=\"login\">\n              <div class=\"form-group mb-6\">\n                <label\n                  for=\"emailSign\"\n                  class=\"form-label inline-block mb-2 text-gray-700\"\n                  >Email address</label\n                >\n                <input\n                  type=\"email\"\n                  required\n                  class=\"\n                    form-control\n                    block\n                    w-full\n                    px-3\n                    py-1.5\n                    text-base\n                    font-normal\n                    text-gray-700\n                    bg-white bg-clip-padding\n                    border border-solid border-gray-300\n                    rounded\n                    transition\n                    ease-in-out\n                    m-0\n                    focus:text-gray-700\n                    focus:bg-white\n                    focus:border-indigo-600\n                    focus:outline-none\n                  \"\n                  v-model=\"emailSign\"\n                  aria-describedby=\"emailSign\"\n                  placeholder=\"Enter email\"\n                />\n              </div>\n              <div class=\"form-group mb-6\">\n                <label\n                  for=\"passwordSign\"\n                  class=\"form-label inline-block mb-2 text-gray-700\"\n                  >Password</label\n                >\n                <input\n                  type=\"password\"\n                  required\n                  class=\"\n                    form-control\n                    block\n                    w-full\n                    px-3\n                    py-1.5\n                    text-base\n                    font-normal\n                    text-gray-700\n                    bg-white bg-clip-padding\n                    border border-solid border-gray-300\n                    rounded\n                    transition\n                    ease-in-out\n                    m-0\n                    focus:text-gray-700\n                    focus:bg-white\n                    focus:border-indigo-600\n                    focus:outline-none\n                  \"\n                  v-model=\"passwordSign\"\n                  placeholder=\"Password\"\n                />\n              </div>\n              <button\n                type=\"submit\"\n                class=\"\n                  w-full\n                  inline-block\n                  px-6\n                  py-2.5\n                  bg-yellow-500\n                  text-black\n                  font-bold\n                  text-xs\n                  leading-tight\n                  uppercase\n                  rounded\n                  shadow-md\n                  hover:bg-yellow-600 hover:shadow-lg\n                  active:bg-yellow-700 active:shadow-lg\n                \"\n              >\n                Sign in\n              </button>\n              <p class=\"requiredField pt-1.5 px-1 text-xs text-red-700\">\n                All fields are required\n              </p>\n            </form>\n          </div>\n        </div>\n      </div>\n    </main>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from \"vue\";\nimport TopNavbar from \"../components/TopNavbar.vue\";\nimport HeroSection from \"../components/HeroSection.vue\";\nimport BottomFooter from \"../components/BottomFooter.vue\";\n\nlet imgSource = \"(img/pexels-pixabay-33153-2.jpg)\";\n\nconsole.log(new Date(Date.now()+3600000))\n\nlet firstName = ref(\"\");\nlet lastName = ref(\"\");\nlet emailReg = ref(\"\");\nlet passwordReg = ref(\"\");\nlet emailSign = ref(\"\");\nlet passwordSign = ref(\"\");\n\nlet isValidReg = ref(false)\n\nconst register = (event) => {\n  let nameIsValid = firstName.value !== \"\" && lastName.value !== \"\";\n  let emailIsValid = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(\n    emailReg.value\n  );\n  let passwordIsValid = passwordReg.value !== \"\";\n  let formIsValid = nameIsValid && emailIsValid && passwordIsValid;\n  if(!formIsValid){\n    isValidReg.value = true\n  }\n  if (formIsValid) {\n    let newUser = {\n      firstName: firstName.value,\n      lastName: lastName.value,\n      email: emailReg.value,\n      password: passwordReg.value,\n    };\n    fetch(`http://localhost:8081/user/register`, {\n      method: `Post`,\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify(newUser),\n    })\n      .then((res) => {\n        if (!res.ok) {\n          throw new Error(\"error\");\n        }\n        return res.text();\n      })\n      .then((data) => {\n        swal({\n          title: \"Success\",\n          text: \"You are registered\",\n          icon: \"success\",\n        });\n        setTimeout(() => {\n          window.open(\"http://localhost:8080/dashboard\", \"_self\");\n        }, 2000);\n      })\n      .catch((error) => {\n        console.log(error);\n        swal({\n          title: \"Error\",\n          text: \"Already existing user\",\n          icon: \"error\",\n        });\n      });\n  }\n};\n\nconst login = (event) => {\n  let emailIsValid = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(\n    emailSign.value\n  );\n  let passwordIsValid = passwordSign.value !== \"\";\n  let formIsValid = emailIsValid && passwordIsValid;\n  console.log(formIsValid)\n  if (formIsValid) {\n    let user = {\n      email: emailSign.value,\n      password: passwordSign.value,\n    };\n    fetch(`http://localhost:8081/user/login`, {\n      method: `Post`,\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify(user),\n    })\n      .then((res) => {\n        if (!res.ok) {\n          throw new Error(\"error\");\n        }\n        return res.text();\n      })\n      .then((data) => {\n        swal({\n          title: \"Success\",\n          text: \"You are registered\",\n          icon: \"success\",\n        });\n        setTimeout(() => {\n          window.open(\"http://localhost:8080/dashboard\", \"_self\");\n        }, 2000);\n      })\n      .catch((error) => {\n        console.log(error);\n        swal({\n          title: \"Error\",\n          text: \"Access Denied\",\n          icon: \"error\",\n        });\n      });\n  }\n};\n</script>\n\n<style>\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}