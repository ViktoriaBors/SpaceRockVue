{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/web.timers.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport { onMounted } from '@vue/runtime-core';\nimport { useRouter, useRoute } from 'vue-router';\nexport default {\n  __name: 'DashboardNav',\n  props: ['user'],\n  setup: function setup(__props, _ref) {\n    var expose = _ref.expose;\n    expose();\n    var props = __props;\n\n    // for redirect\n    var router = useRouter();\n    var route = useRoute();\n    var logout = function logout() {\n      fetch(\"http://localhost:8081/user/logout\").then(function (res) {\n        if (!res.ok) {\n          throw new Error(\"error\");\n        }\n        return res.text();\n      }).then(function (data) {\n        swal({\n          title: \"Success\",\n          text: \"You are logged out\",\n          icon: \"success\"\n        });\n        setTimeout(function () {\n          router.push({\n            name: 'home'\n          });\n        }, 2000);\n      });\n    };\n    onMounted(function () {\n      console.log(\"nav\");\n    });\n    var __returned__ = {\n      props: props,\n      router: router,\n      route: route,\n      logout: logout,\n      onMounted: onMounted,\n      useRouter: useRouter,\n      useRoute: useRoute\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"mappings":";;;;;;AAiCA,SAASA,SAAS,QAAQ,mBAAmB;AAC7C,SAASC,SAAS,EAAEC,QAAQ,QAAQ,YAAY;;;;;;;;;IAIhD;IACA,IAAMC,MAAM,GAAGF,SAAS,EAAE;IAC1B,IAAMG,KAAK,GAAGF,QAAQ,EAAE;IAExB,IAAMG,MAAM,GAAG,SAATA,MAAM,GAAS;MACjBC,KAAK,qCAAqC,CACzCC,IAAI,CAAC,aAAG,EAAI;QACT,IAAG,CAACC,GAAG,CAACC,EAAE,EAAC;UACP,MAAM,IAAIC,KAAK,CAAC,OAAO,CAAC;QAC5B;QACA,OAAOF,GAAG,CAACG,IAAI,EAAE;MACrB,CAAC,CAAC,CACDJ,IAAI,CAAC,cAAI,EAAI;QACVK,IAAI,CAAC;UACDC,KAAK,EAAE,SAAS;UAChBF,IAAI,EAAE,oBAAoB;UAC1BG,IAAI,EAAE;QACV,CAAC,CAAC;QACFC,UAAU,CAAC,YAAM;UACbZ,MAAM,CAACa,IAAI,CAAC;YAACC,IAAI,EAAG;UAAM,CAAC,CAAC;QAChC,CAAC,EAAE,IAAI,CAAC;MACZ,CAAC,CAAC;IACN,CAAC;IACDjB,SAAS,CAAC,YAAI;MAACkB,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC;IAAA,CAAC,CAAC","names":["onMounted","useRouter","useRoute","router","route","logout","fetch","then","res","ok","Error","text","swal","title","icon","setTimeout","push","name","console","log"],"sources":["/home/viki/Projects/JSExamProjectFinal/Vue/SpaceRockVue/frontend/src/components/DashboardNav.vue"],"sourcesContent":["<template>\n  <!--if there is a prop - user - this topnavbar shows  dasboard-->\n    <div class=\"\n        w-full\n        flex flex-wrap\n        items-center\n        justify-between\n        py-4\n        bg-slate-400\n        hover:text-yellow-700\n        focus:text-yellow-800\n        shadow-lg\n        navbar navbar-expand-sm\n        text-lg\n        mt-32 \n        \">\n        <div class=\"container-fluid w-full flex flex-col items-center justify-center px-6\">\n            <p class=\"font-extrabold tracking-wider text-yellow-800\"> SpaceRock</p>\n            <p class=\"text-center text-2xl md:text-3xl xl:text-4xl font-bold tracking-tight text-yellow-900 py-4\">\n                Research Facility and Database Center for Lunar materials</p>\n            <p class=\"text-center text-yellow-800\"> Welcome</p>\n            <p class=\"text-center text-yellow-800\"> You are logged in as \n                <span class=\"px-1 text-md font-bold capitalize\">{{props.user.firstName}}</span>  \n                 <br>\n                <span class=\"text-md font-bold\">{{props.user.email}}</span>\n            </p>\n            \n        </div>\n        <p @click=\"logout\" class=\"pl-2 cursor-pointer text-sm font-bold text-yellow-900\">Log Out</p>\n    </div>\n</template>\n\n<script setup>\nimport { onMounted } from '@vue/runtime-core'\nimport { useRouter, useRoute } from 'vue-router'\n\nconst props = defineProps(['user'])\n\n// for redirect\nconst router = useRouter()\nconst route = useRoute()\n\nconst logout = () => {\n    fetch(`http://localhost:8081/user/logout`)\n    .then(res => {\n        if(!res.ok){\n            throw new Error(\"error\")\n        } \n        return res.text()\n    })\n    .then(data => {\n        swal({\n            title: \"Success\",\n            text: \"You are logged out\",\n            icon: \"success\",\n        })\n        setTimeout(() => {\n            router.push({name : 'home'})\n        }, 2000)\n    })\n} \nonMounted(()=>{console.log(\"nav\")})\n\n</script>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}