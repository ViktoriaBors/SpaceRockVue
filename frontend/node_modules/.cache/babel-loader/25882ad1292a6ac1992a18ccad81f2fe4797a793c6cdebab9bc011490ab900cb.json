{"ast":null,"code":"import \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.date.now.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/web.timers.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { createVNode as _createVNode, unref as _unref, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, isRef as _isRef, vModelText as _vModelText, withDirectives as _withDirectives, normalizeClass as _normalizeClass, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"text-justify\"\n};\nvar _hoisted_2 = {\n  \"class\": \"container mx-auto px-6 py-4 bg-slate-200\"\n};\nvar _hoisted_3 = /*#__PURE__*/_createElementVNode(\"p\", {\n  \"class\": \"pt-2 text-lg text-center font-bold py-4\"\n}, \"Contact Us\", -1);\nvar _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"text-justify p-2\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", null, [/*#__PURE__*/_createTextVNode(\" Feel free to contact us in regard of a research projects, loaning and approving materials or if you have any questions about our services via \"), /*#__PURE__*/_createElementVNode(\"span\", {\n  \"class\": \"uppercase font-bold italic\"\n}, \"spacerock@spacerock.com\"), /*#__PURE__*/_createTextVNode(\". \")]), /*#__PURE__*/_createElementVNode(\"p\", {\n  \"class\": \"text-center py-4\"\n}, \" Register or login below to gain access to the database. \")], -1);\nvar _hoisted_5 = {\n  \"class\": \"flex flex-col md:flex-row justify-around items-center\"\n};\nvar _hoisted_6 = {\n  \"class\": \"block p-6 rounded-lg shadow-lg bg-white m-2 w-full md:w-1/2 lg:w-1/3\"\n};\nvar _hoisted_7 = [\"onSubmit\"];\nvar _hoisted_8 = {\n  \"class\": \"grid grid-cols-2 gap-4\"\n};\nvar _hoisted_9 = {\n  \"class\": \"form-group mb-6\"\n};\nvar _hoisted_10 = {\n  \"class\": \"form-group mb-6\"\n};\nvar _hoisted_11 = {\n  \"class\": \"form-group mb-6\"\n};\nvar _hoisted_12 = {\n  \"class\": \"form-group mb-6\"\n};\nvar _hoisted_13 = /*#__PURE__*/_createElementVNode(\"button\", {\n  \"class\": \"w-full inline-block px-6 py-2.5 bg-yellow-500 text-black font-bold text-xs leading-tight uppercase rounded shadow-md hover:bg-yellow-600 hover:shadow-lg active:bg-yellow-700 active:shadow-lg\"\n}, \" Register \", -1);\nvar _hoisted_14 = {\n  \"class\": \"block p-6 rounded-lg shadow-lg bg-white m-2 w-full md:w-1/2 lg:w-1/3\"\n};\nvar _hoisted_15 = [\"onSubmit\"];\nvar _hoisted_16 = {\n  \"class\": \"form-group mb-6\"\n};\nvar _hoisted_17 = /*#__PURE__*/_createElementVNode(\"label\", {\n  \"for\": \"emailSign\",\n  \"class\": \"form-label inline-block mb-2 text-gray-700\"\n}, \"Email address\", -1);\nvar _hoisted_18 = {\n  \"class\": \"form-group mb-6\"\n};\nvar _hoisted_19 = /*#__PURE__*/_createElementVNode(\"label\", {\n  \"for\": \"passwordSign\",\n  \"class\": \"form-label inline-block mb-2 text-gray-700\"\n}, \"Password\", -1);\nvar _hoisted_20 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  \"class\": \"w-full inline-block px-6 py-2.5 bg-yellow-500 text-black font-bold text-xs leading-tight uppercase rounded shadow-md hover:bg-yellow-600 hover:shadow-lg active:bg-yellow-700 active:shadow-lg\"\n}, \" Sign in \", -1);\nimport { ref } from \"vue\";\nimport { useRouter, useRoute } from 'vue-router';\nimport TopNavbar from \"../components/TopNavbar.vue\";\nimport HeroSection from \"../components/HeroSection.vue\";\nimport BottomFooter from \"../components/BottomFooter.vue\";\nexport default {\n  __name: 'LoginView',\n  setup: function setup(__props) {\n    var imgSource = \"(img/pexels-pixabay-33153-2.jpg)\";\n    console.log(new Date(Date.now() + 3600000));\n    var firstName = ref(\"\");\n    var lastName = ref(\"\");\n    var emailReg = ref(\"\");\n    var passwordReg = ref(\"\");\n    var emailSign = ref(\"\");\n    var passwordSign = ref(\"\");\n    var isValidReg = ref(false);\n    var isValidSign = ref(false);\n\n    // for redirect\n    var router = useRouter();\n    var route = useRoute();\n    var register = function register(event) {\n      var nameIsValid = firstName.value !== \"\" && lastName.value !== \"\";\n      var emailIsValid = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(emailReg.value);\n      var passwordIsValid = passwordReg.value !== \"\";\n      var formIsValid = nameIsValid && emailIsValid && passwordIsValid;\n      if (!formIsValid) {\n        isValidReg.value = true;\n      }\n      if (formIsValid) {\n        var newUser = {\n          firstName: firstName.value,\n          lastName: lastName.value,\n          email: emailReg.value,\n          password: passwordReg.value\n        };\n        fetch(\"http://localhost:8081/user/register\", {\n          method: \"Post\",\n          headers: {\n            \"content-type\": \"application/json\"\n          },\n          body: JSON.stringify(newUser)\n        }).then(function (res) {\n          if (!res.ok) {\n            throw new Error(\"error\");\n          }\n          return res.text();\n        }).then(function (data) {\n          swal({\n            title: \"Success\",\n            text: \"You are registered\",\n            icon: \"success\"\n          });\n          setTimeout(function () {\n            router.push({\n              name: 'dashboard'\n            });\n          }, 2000);\n        })[\"catch\"](function (error) {\n          console.log(error);\n          swal({\n            title: \"Error\",\n            text: \"Already existing user\",\n            icon: \"error\"\n          });\n        });\n      }\n    };\n    var login = function login() {\n      var emailIsValid = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(emailSign.value);\n      var passwordIsValid = passwordSign.value !== \"\";\n      var formIsValid = emailIsValid && passwordIsValid;\n      if (!formIsValid) {\n        isValidSign.value = true;\n      }\n      if (formIsValid) {\n        var user = {\n          email: emailSign.value,\n          password: passwordSign.value\n        };\n        fetch(\"http://localhost:8081/user/login\", {\n          method: \"Post\",\n          headers: {\n            \"content-type\": \"application/json\"\n          },\n          body: JSON.stringify(user)\n        }).then(function (res) {\n          if (!res.ok) {\n            throw new Error(\"error\");\n          }\n          return res.text();\n        }).then(function (data) {\n          swal({\n            title: \"Success\",\n            text: \"You are now logged in\",\n            icon: \"success\"\n          });\n          setTimeout(function () {\n            router.push({\n              name: 'dashboard'\n            });\n          }, 2000);\n        })[\"catch\"](function (error) {\n          console.log(error);\n          swal({\n            title: \"Error\",\n            text: \"Access Denied\",\n            icon: \"error\"\n          });\n        });\n      }\n    };\n    return function (_ctx, _cache) {\n      return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(TopNavbar), _createVNode(HeroSection, {\n        imgSource: _unref(imgSource)\n      }, null, 8, [\"imgSource\"]), _createElementVNode(\"main\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"form\", {\n        id: \"registerForm\",\n        onSubmit: _withModifiers(register, [\"prevent\"])\n      }, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        required: \"\",\n        \"class\": \"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-indigo-600 focus:outline-none\",\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n          return _isRef(firstName) ? firstName.value = $event : firstName = $event;\n        }),\n        \"aria-describedby\": \"firstName\",\n        placeholder: \"First name\"\n      }, null, 512), [[_vModelText, _unref(firstName)]])]), _createElementVNode(\"div\", _hoisted_10, [_withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        required: \"\",\n        \"class\": \"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-indigo-600 focus:outline-none\",\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n          return _isRef(lastName) ? lastName.value = $event : lastName = $event;\n        }),\n        \"aria-describedby\": \"lastName\",\n        placeholder: \"Last name\"\n      }, null, 512), [[_vModelText, _unref(lastName)]])])]), _createElementVNode(\"div\", _hoisted_11, [_withDirectives(_createElementVNode(\"input\", {\n        type: \"email\",\n        required: \"\",\n        \"class\": \"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-indigo-600 focus:outline-none\",\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n          return _isRef(emailReg) ? emailReg.value = $event : emailReg = $event;\n        }),\n        placeholder: \"Email address\"\n      }, null, 512), [[_vModelText, _unref(emailReg)]])]), _createElementVNode(\"div\", _hoisted_12, [_withDirectives(_createElementVNode(\"input\", {\n        type: \"password\",\n        minlength: \"2\",\n        required: \"\",\n        \"class\": \"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-indigo-600 focus:outline-none\",\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = function ($event) {\n          return _isRef(passwordReg) ? passwordReg.value = $event : passwordReg = $event;\n        }),\n        placeholder: \"Password\"\n      }, null, 512), [[_vModelText, _unref(passwordReg)]])]), _hoisted_13, _createElementVNode(\"p\", {\n        id: \"requiredField\",\n        \"class\": _normalizeClass([{\n          \"font-bold\": _unref(isValidReg)\n        }, \"pt-1.5 px-1 text-xs text-red-700\"])\n      }, \" All fields are required \", 2)], 40, _hoisted_7)]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"form\", {\n        onSubmit: _withModifiers(login, [\"prevent\"])\n      }, [_createElementVNode(\"div\", _hoisted_16, [_hoisted_17, _withDirectives(_createElementVNode(\"input\", {\n        type: \"email\",\n        required: \"\",\n        \"class\": \"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-indigo-600 focus:outline-none\",\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = function ($event) {\n          return _isRef(emailSign) ? emailSign.value = $event : emailSign = $event;\n        }),\n        \"aria-describedby\": \"emailSign\",\n        placeholder: \"Enter email\"\n      }, null, 512), [[_vModelText, _unref(emailSign)]])]), _createElementVNode(\"div\", _hoisted_18, [_hoisted_19, _withDirectives(_createElementVNode(\"input\", {\n        type: \"password\",\n        required: \"\",\n        \"class\": \"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-indigo-600 focus:outline-none\",\n        \"onUpdate:modelValue\": _cache[5] || (_cache[5] = function ($event) {\n          return _isRef(passwordSign) ? passwordSign.value = $event : passwordSign = $event;\n        }),\n        placeholder: \"Password\"\n      }, null, 512), [[_vModelText, _unref(passwordSign)]])]), _hoisted_20, _createElementVNode(\"p\", {\n        \"class\": _normalizeClass([{\n          \"font-bold\": _unref(isValidSign)\n        }, \"pt-1.5 px-1 text-xs text-red-700\"])\n      }, \" All fields are required \", 2)], 40, _hoisted_15)])])])])]);\n    };\n  }\n};","map":{"version":3,"mappings":"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","names":["ref","useRouter","useRoute","TopNavbar","HeroSection","BottomFooter","imgSource","console","log","Date","now","firstName","lastName","emailReg","passwordReg","emailSign","passwordSign","isValidReg","isValidSign","router","route","register","event","nameIsValid","value","emailIsValid","test","passwordIsValid","formIsValid","newUser","email","password","fetch","method","headers","body","JSON","stringify","then","res","ok","Error","text","data","swal","title","icon","setTimeout","push","name","error","login","user"],"sources":["/home/viki/Projects/JSExamProjectFinal/Vue/SpaceRockVue/frontend/src/views/LoginView.vue"],"sourcesContent":["<template>\n  <div>\n    <TopNavbar/>\n    <HeroSection :imgSource=\"imgSource\" />\n    <main class=\"text-justify\">\n      <div class=\"container mx-auto px-6 py-4 bg-slate-200\">\n        <p class=\"pt-2 text-lg text-center font-bold py-4\">Contact Us</p>\n        <div class=\"text-justify p-2\">\n          <p>\n            Feel free to contact us in regard of a research projects, loaning\n            and approving materials or if you have any questions about our\n            services via\n            <span class=\"uppercase font-bold italic\"\n              >spacerock@spacerock.com</span\n            >.\n          </p>\n          <p class=\"text-center py-4\">\n            Register or login below to gain access to the database.\n          </p>\n        </div>\n        <div class=\"flex flex-col md:flex-row justify-around items-center\">\n          <!--Register-->\n          <div\n            class=\"\n              block\n              p-6\n              rounded-lg\n              shadow-lg\n              bg-white\n              m-2\n              w-full\n              md:w-1/2\n              lg:w-1/3\n            \"\n          >\n            <form id=\"registerForm\" @submit.prevent=\"register\">\n              <div class=\"grid grid-cols-2 gap-4\">\n                <div class=\"form-group mb-6\">\n                  <input\n                    type=\"text\"\n                    required\n                    class=\"\n                      form-control\n                      block\n                      w-full\n                      px-3\n                      py-1.5\n                      text-base\n                      font-normal\n                      text-gray-700\n                      bg-white bg-clip-padding\n                      border border-solid border-gray-300\n                      rounded\n                      transition\n                      ease-in-out\n                      m-0\n                      focus:text-gray-700\n                      focus:bg-white\n                      focus:border-indigo-600\n                      focus:outline-none\n                    \"\n                    v-model=\"firstName\"\n                    aria-describedby=\"firstName\"\n                    placeholder=\"First name\"\n                  />\n                </div>\n                <div class=\"form-group mb-6\">\n                  <input\n                    type=\"text\"\n                    required\n                    class=\"\n                      form-control\n                      block\n                      w-full\n                      px-3\n                      py-1.5\n                      text-base\n                      font-normal\n                      text-gray-700\n                      bg-white bg-clip-padding\n                      border border-solid border-gray-300\n                      rounded\n                      transition\n                      ease-in-out\n                      m-0\n                      focus:text-gray-700\n                      focus:bg-white\n                      focus:border-indigo-600\n                      focus:outline-none\n                    \"\n                    v-model=\"lastName\"\n                    aria-describedby=\"lastName\"\n                    placeholder=\"Last name\"\n                  />\n                </div>\n              </div>\n              <div class=\"form-group mb-6\">\n                <input\n                  type=\"email\"\n                  required\n                  class=\"\n                    form-control\n                    block\n                    w-full\n                    px-3\n                    py-1.5\n                    text-base\n                    font-normal\n                    text-gray-700\n                    bg-white bg-clip-padding\n                    border border-solid border-gray-300\n                    rounded\n                    transition\n                    ease-in-out\n                    m-0\n                    focus:text-gray-700\n                    focus:bg-white\n                    focus:border-indigo-600\n                    focus:outline-none\n                  \"\n                  v-model=\"emailReg\"\n                  placeholder=\"Email address\"\n                />\n              </div>\n              <div class=\"form-group mb-6\">\n                <input\n                  type=\"password\"\n                  minlength=\"2\"\n                  required\n                  class=\"\n                    form-control\n                    block\n                    w-full\n                    px-3\n                    py-1.5\n                    text-base\n                    font-normal\n                    text-gray-700\n                    bg-white bg-clip-padding\n                    border border-solid border-gray-300\n                    rounded\n                    transition\n                    ease-in-out\n                    m-0\n                    focus:text-gray-700\n                    focus:bg-white\n                    focus:border-indigo-600\n                    focus:outline-none\n                  \"\n                  v-model=\"passwordReg\"\n                  placeholder=\"Password\"\n                />\n              </div>\n              <button\n                class=\"\n                  w-full\n                  inline-block\n                  px-6\n                  py-2.5\n                  bg-yellow-500\n                  text-black\n                  font-bold\n                  text-xs\n                  leading-tight\n                  uppercase\n                  rounded\n                  shadow-md\n                  hover:bg-yellow-600 hover:shadow-lg\n                  active:bg-yellow-700 active:shadow-lg\n                \"\n              >\n                Register\n              </button>\n              <p id=\"requiredField\" :class='{ \"font-bold\" : isValidReg}' class=\"pt-1.5 px-1 text-xs text-red-700\">\n                All fields are required\n              </p>\n            </form>\n          </div>\n          <!--register end-->\n          <!--Login-->\n          <div\n            class=\"\n              block\n              p-6\n              rounded-lg\n              shadow-lg\n              bg-white\n              m-2\n              w-full\n              md:w-1/2\n              lg:w-1/3\n            \"\n          >\n            <form @submit.prevent=\"login\">\n              <div class=\"form-group mb-6\">\n                <label\n                  for=\"emailSign\"\n                  class=\"form-label inline-block mb-2 text-gray-700\"\n                  >Email address</label\n                >\n                <input\n                  type=\"email\"\n                  required\n                  class=\"\n                    form-control\n                    block\n                    w-full\n                    px-3\n                    py-1.5\n                    text-base\n                    font-normal\n                    text-gray-700\n                    bg-white bg-clip-padding\n                    border border-solid border-gray-300\n                    rounded\n                    transition\n                    ease-in-out\n                    m-0\n                    focus:text-gray-700\n                    focus:bg-white\n                    focus:border-indigo-600\n                    focus:outline-none\n                  \"\n                  v-model=\"emailSign\"\n                  aria-describedby=\"emailSign\"\n                  placeholder=\"Enter email\"\n                />\n              </div>\n              <div class=\"form-group mb-6\">\n                <label\n                  for=\"passwordSign\"\n                  class=\"form-label inline-block mb-2 text-gray-700\"\n                  >Password</label\n                >\n                <input\n                  type=\"password\"\n                  required\n                  class=\"\n                    form-control\n                    block\n                    w-full\n                    px-3\n                    py-1.5\n                    text-base\n                    font-normal\n                    text-gray-700\n                    bg-white bg-clip-padding\n                    border border-solid border-gray-300\n                    rounded\n                    transition\n                    ease-in-out\n                    m-0\n                    focus:text-gray-700\n                    focus:bg-white\n                    focus:border-indigo-600\n                    focus:outline-none\n                  \"\n                  v-model=\"passwordSign\"\n                  placeholder=\"Password\"\n                />\n              </div>\n              <button\n                type=\"submit\"\n                class=\"\n                  w-full\n                  inline-block\n                  px-6\n                  py-2.5\n                  bg-yellow-500\n                  text-black\n                  font-bold\n                  text-xs\n                  leading-tight\n                  uppercase\n                  rounded\n                  shadow-md\n                  hover:bg-yellow-600 hover:shadow-lg\n                  active:bg-yellow-700 active:shadow-lg\n                \"\n              >\n                Sign in\n              </button>\n              <p  :class='{ \"font-bold\" : isValidSign}' class=\"pt-1.5 px-1 text-xs text-red-700\">\n                All fields are required\n              </p>\n            </form>\n          </div>\n        </div>\n      </div>\n    </main>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from \"vue\";\nimport { useRouter, useRoute } from 'vue-router'\nimport TopNavbar from \"../components/TopNavbar.vue\";\nimport HeroSection from \"../components/HeroSection.vue\";\nimport BottomFooter from \"../components/BottomFooter.vue\";\n\nlet imgSource = \"(img/pexels-pixabay-33153-2.jpg)\";\n\nconsole.log(new Date(Date.now()+3600000))\n\nlet firstName = ref(\"\");\nlet lastName = ref(\"\");\nlet emailReg = ref(\"\");\nlet passwordReg = ref(\"\");\nlet emailSign = ref(\"\");\nlet passwordSign = ref(\"\");\n\nlet isValidReg = ref(false)\nlet isValidSign = ref(false)\n\n// for redirect\nconst router = useRouter()\nconst route = useRoute()\n\nconst register = (event) => {\n  let nameIsValid = firstName.value !== \"\" && lastName.value !== \"\";\n  let emailIsValid = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(\n    emailReg.value\n  );\n  let passwordIsValid = passwordReg.value !== \"\";\n  let formIsValid = nameIsValid && emailIsValid && passwordIsValid;\n  if(!formIsValid){\n    isValidReg.value = true\n  }\n  if (formIsValid) {\n    let newUser = {\n      firstName: firstName.value,\n      lastName: lastName.value,\n      email: emailReg.value,\n      password: passwordReg.value,\n    };\n    fetch(`http://localhost:8081/user/register`, {\n      method: `Post`,\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify(newUser),\n    })\n      .then((res) => {\n        if (!res.ok) {\n          throw new Error(\"error\");\n        }\n        return res.text();\n      })\n      .then((data) => {\n        swal({\n          title: \"Success\",\n          text: \"You are registered\",\n          icon: \"success\",\n        });\n        setTimeout(() => {\n          router.push({name : 'dashboard'});\n        }, 2000);\n      })\n      .catch((error) => {\n        console.log(error);\n        swal({\n          title: \"Error\",\n          text: \"Already existing user\",\n          icon: \"error\",\n        });\n      });\n  }\n};\n\nconst login = () => {\n  let emailIsValid = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(\n    emailSign.value\n  );\n  let passwordIsValid = passwordSign.value !== \"\";\n  let formIsValid = emailIsValid && passwordIsValid;\n  if(!formIsValid){\n    isValidSign.value = true\n  }\n  if (formIsValid) {\n    let user = {\n      email: emailSign.value,\n      password: passwordSign.value,\n    };\n    fetch(`http://localhost:8081/user/login`, {\n      method: `Post`,\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify(user),\n    })\n      .then((res) => {\n        if (!res.ok) {\n          throw new Error(\"error\");\n        }\n        return res.text();\n      })\n      .then((data) => {\n        swal({\n          title: \"Success\",\n          text: \"You are now logged in\",\n          icon: \"success\",\n        });\n        setTimeout(() => {\n          router.push({name : 'dashboard'});\n        }, 2000);\n      })\n      .catch((error) => {\n        console.log(error);\n        swal({\n          title: \"Error\",\n          text: \"Access Denied\",\n          icon: \"error\",\n        });\n      });\n  }\n};\n</script>\n\n<style>\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}