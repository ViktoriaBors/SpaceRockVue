{"ast":null,"code":"import \"core-js/modules/es.date.now.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport { ref } from \"vue\";\nexport default {\n  __name: 'Accordion',\n  props: [\"user\"],\n  setup: function setup(__props, _ref) {\n    var expose = _ref.expose;\n    expose();\n    var props = __props;\n    var isOpenNewSample = ref(false);\n    var isOpenImg = ref(false);\n    var openAccordion = function openAccordion(accordion) {\n      accordion.value = true;\n    };\n\n    // form values\n    var name = ref(null);\n    var description = ref(null);\n    var minerals = ref(null);\n    var SiO2 = ref(\"\");\n    var Al2O3 = ref(\"\");\n    var MgO = ref(\"\");\n    var CaO = ref(\"\");\n    var Na2O3 = ref(\"\");\n    var Fe2O3 = ref(\"\");\n    var density = ref(\"\");\n    var porosity = ref(\"\");\n    var sampleName = ref(null); // for img upload\n\n    var addData = function addData() {\n      var newSample = {\n        name: name.value,\n        type: \"simulant\",\n        description: description.value,\n        minerals: minerals.value,\n        SiO2: SiO2.value == \"\" || isNaN(SiO2.value) ? \"N/A\" : SiO2.value,\n        Al2O3: Al2O3.value == \"\" || isNaN(Al2O3.value) ? \"N/A\" : Al2O3.value,\n        MgO: MgO.value == \"\" || isNaN(MgO.value) ? \"N/A\" : MgO.value,\n        CaO: CaO.value == \"\" || isNaN(CaO.value) ? \"N/A\" : CaO.value,\n        Na2O3: Na2O3.value == \"\" || isNaN(Na2O3.value) ? \"N/A\" : Na2O3.value,\n        Fe2O3: Fe2O3.value == \"\" || isNaN(Fe2O3.value) ? \"N/A\" : Fe2O3.value,\n        porosity: porosity.value == \"\" || isNaN(porosity.value) ? \"N/A\" : porosity.value,\n        density: density.value == \"\" || isNaN(density.value) ? \"N/A\" : density.value,\n        uploadedBy: props.user.email,\n        url: \"../img/samples/noImg.png\",\n        updatedLast: Date.now(),\n        status: \"pending\"\n      };\n      console.log(newSample);\n      fetch(\"http://localhost:8081/data\", {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(newSample)\n      }).then(function (res) {\n        if (!res.ok) {\n          throw new Error(\"error\");\n        }\n        return res.text();\n      }).then(function (data) {\n        swal({\n          title: \"Success\",\n          text: \"New sample is added\",\n          icon: \"success\"\n        });\n      })[\"catch\"](function (error) {\n        console.log(error);\n        swal({\n          title: \"Error\",\n          text: \"Already existing sample name\",\n          icon: \"error\"\n        });\n      });\n      document.querySelector(\"#newSample\").reset();\n      console.log(minerals.value);\n    };\n    var addDImg = function addDImg() {\n      var file = document.querySelector(\"#imgUpload\").files[0];\n      var email = props.user.email;\n      var fileForm = new FormData();\n      fileForm.append(\"sampleName\", sampleName.value);\n      fileForm.append(\"img\", file);\n      fileForm.append(\"email\", email);\n      fetch(\"http://localhost:8081/data/file\", {\n        method: 'POST',\n        body: fileForm\n      }).then(function (res) {\n        if (!res.ok) {\n          throw new Error(\"error\");\n        }\n        return res.text();\n      }).then(function (data) {\n        swal({\n          title: \"Success\",\n          text: \"New image is added\",\n          icon: \"success\"\n        });\n      })[\"catch\"](function (error) {\n        console.log(error);\n        swal({\n          title: \"Error\",\n          text: \"No sample found\",\n          icon: \"error\"\n        });\n      });\n      document.querySelector(\"#imgUpload\").value = \"\";\n      sampleName.value = \"\";\n    };\n    var __returned__ = {\n      props: props,\n      isOpenNewSample: isOpenNewSample,\n      isOpenImg: isOpenImg,\n      openAccordion: openAccordion,\n      name: name,\n      description: description,\n      minerals: minerals,\n      SiO2: SiO2,\n      Al2O3: Al2O3,\n      MgO: MgO,\n      CaO: CaO,\n      Na2O3: Na2O3,\n      Fe2O3: Fe2O3,\n      density: density,\n      porosity: porosity,\n      sampleName: sampleName,\n      addData: addData,\n      addDImg: addDImg,\n      ref: ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"mappings":"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","names":["ref","isOpenNewSample","isOpenImg","openAccordion","accordion","value","name","description","minerals","SiO2","Al2O3","MgO","CaO","Na2O3","Fe2O3","density","porosity","sampleName","addData","newSample","type","isNaN","uploadedBy","props","user","email","url","updatedLast","Date","now","status","console","log","fetch","method","headers","body","JSON","stringify","then","res","ok","Error","text","data","swal","title","icon","error","document","querySelector","reset","addDImg","file","files","fileForm","FormData","append"],"sources":["/home/viki/Projects/JSExamProjectFinal/Vue/SpaceRockVue/frontend/src/components/Accordion.vue"],"sourcesContent":["<template>\n  <div>\n    <!--new material accordion-->\n    <div\n      id=\"accordion-collapse\"\n      data-accordion=\"collapse\"\n      data-active-classes=\"bg-gray-800 text-white\"\n    >\n      <div>\n        <h2 id=\"newSample-heading\">\n          <button\n            type=\"button\"\n            class=\"\n              flex\n              items-center\n              justify-between\n              w-full\n              p-5\n              font-medium\n              text-left text-white\n              bg-gray-700\n              border border-b-0 border-gray-200\n              rounded-t-xl\n              hover:bg-gray-800\n            \"\n            data-accordion-target=\"#newSample-body\"\n            aria-expanded=\"false\"\n            aria-controls=\"newSample-body\"\n          >\n            Add new samples to the database\n          </button>\n        </h2>\n        <div\n          id=\"newSample-body\"\n          class=\"hidden flex flex-row justify-center items-center\"\n          aria-labelledby=\"Newsample-body\"\n        >\n          <div\n            class=\"block p-6 rounded-lg shadow-lg bg-white m-2 w-full lg:w-1/2\"\n          >\n            <form @submit.prevent=\"addData\" id=\"newSample\">\n              <div class=\"form-group mb-1\">\n                <label\n                  for=\"materialName\"\n                  class=\"form-label inline-block mb-2 text-gray-700\"\n                  >Name of the material</label\n                >\n                <input\n                  v-model=\"name\"\n                  type=\"text\"\n                  required\n                  class=\"\n                    block\n                    w-full\n                    px-3\n                    py-1.5\n                    text-base\n                    font-normal\n                    text-gray-700\n                    bg-white bg-clip-padding\n                    border border-solid border-gray-300\n                    rounded\n                    m-0\n                    focus:text-gray-700\n                    focus:bg-white\n                    focus:border-indigo-600\n                    focus:outline-none\n                  \"\n                  aria-describedby=\"materialName\"\n                  placeholder=\"Sample name\"\n                />\n              </div>\n              <p class=\"requiredField mb-5 px-1 text-xs text-red-700\">\n                The field is required\n              </p>\n              <div class=\"form-group mb-1\">\n                <label\n                  for=\"description\"\n                  class=\"form-label inline-block mb-2 text-gray-700\"\n                  >Short Description</label\n                >\n                <textarea\n                  v-model=\"description\"\n                  required\n                  class=\"\n                    block\n                    w-full\n                    px-3\n                    py-1.5\n                    text-base\n                    font-normal\n                    text-gray-700\n                    bg-white bg-clip-padding\n                    border border-solid border-gray-300\n                    rounded\n                    m-0\n                    focus:text-gray-700\n                    focus:bg-white\n                    focus:border-indigo-600\n                    focus:outline-none\n                  \"\n                  rows=\"3\"\n                  aria-describedby=\"description\"\n                  placeholder=\"Provide short description\"\n                ></textarea>\n              </div>\n              <p class=\"requiredField mb-5 px-1 text-xs text-red-700\">\n                The field is required\n              </p>\n              <div class=\"form-group mb-1\">\n                <label\n                  for=\"minerals\"\n                  class=\"form-label inline-block mb-2 text-gray-700\"\n                  >Mineral composition</label\n                >\n                <textarea\n                  v-model=\"minerals\"\n                  required\n                  class=\"\n                    block\n                    w-full\n                    px-3\n                    py-1.5\n                    text-base\n                    font-normal\n                    text-gray-700\n                    bg-white bg-clip-padding\n                    border border-solid border-gray-300\n                    rounded\n                    m-0\n                    focus:text-gray-700\n                    focus:bg-white\n                    focus:border-indigo-600\n                    focus:outline-none\n                  \"\n                  id=\"mineralsNew\"\n                  aria-describedby=\"minerals\"\n                >\n                </textarea>\n              </div>\n              <p class=\"requiredField mb-5 px-1 text-xs text-red-700\">\n                The field is required\n              </p>\n              <p\n                for=\"chemistry\"\n                class=\"form-label inline-block mb-2 text-gray-700\"\n              >\n                Geochemical composition\n              </p>\n              <div class=\"form-group mb-6\">\n                <div class=\"flex flex-row justify-around items-center\">\n                  <label\n                    for=\"siO\"\n                    class=\"form-label inline-block mb-2 text-gray-700\"\n                    >SiO<sub>2</sub></label\n                  >\n                  <input\n                    v-model=\"SiO2\"\n                    type=\"number\"\n                    class=\"\n                      inline\n                      px-3\n                      py-1.5\n                      text-base\n                      font-normal\n                      text-gray-700\n                      bg-white bg-clip-padding\n                      border border-solid border-gray-300\n                      rounded\n                      m-0\n                      focus:text-gray-700\n                      focus:bg-white\n                      focus:border-indigo-600\n                      focus:outline-none\n                    \"\n                    aria-describedby=\"siO\"\n                  />\n                </div>\n                <div class=\"flex flex-row justify-around items-center\">\n                  <label\n                    for=\"alO\"\n                    class=\"form-label inline-block mb-2 text-gray-700\"\n                    >Al<sub>2</sub>O<sub>3</sub></label\n                  >\n                  <input\n                    v-model=\"Al2O3\"\n                    type=\"number\"\n                    class=\"\n                      inline\n                      px-3\n                      py-1.5\n                      text-base\n                      font-normal\n                      text-gray-700\n                      bg-white bg-clip-padding\n                      border border-solid border-gray-300\n                      rounded\n                      m-0\n                      focus:text-gray-700\n                      focus:bg-white\n                      focus:border-indigo-600\n                      focus:outline-none\n                    \"\n                    aria-describedby=\"alO\"\n                  />\n                </div>\n                <div class=\"flex flex-row justify-around items-center\">\n                  <label\n                    for=\"mgO\"\n                    class=\"form-label inline-block mb-2 text-gray-700\"\n                    >MgO</label\n                  >\n                  <input\n                    v-model=\"MgO\"\n                    type=\"number\"\n                    class=\"\n                      inline\n                      px-3\n                      py-1.5\n                      text-base\n                      font-normal\n                      text-gray-700\n                      bg-white bg-clip-padding\n                      border border-solid border-gray-300\n                      rounded\n                      m-0\n                      focus:text-gray-700\n                      focus:bg-white\n                      focus:border-indigo-600\n                      focus:outline-none\n                    \"\n                    aria-describedby=\"mgO\"\n                  />\n                </div>\n                <div class=\"flex flex-row justify-around items-center\">\n                  <label\n                    for=\"caO\"\n                    class=\"form-label inline-block mb-2 text-gray-700\"\n                    >CaO</label\n                  >\n                  <input\n                    v-model=\"CaO\"\n                    type=\"number\"\n                    class=\"\n                      inline\n                      px-3\n                      py-1.5\n                      text-base\n                      font-normal\n                      text-gray-700\n                      bg-white bg-clip-padding\n                      border border-solid border-gray-300\n                      rounded\n                      m-0\n                      focus:text-gray-700\n                      focus:bg-white\n                      focus:border-indigo-600\n                      focus:outline-none\n                    \"\n                    aria-describedby=\"caO\"\n                  />\n                </div>\n                <div class=\"flex flex-row justify-around items-center\">\n                  <label\n                    for=\"naO\"\n                    class=\"form-label inline-block mb-2 text-gray-700\"\n                    >Na<sub>2</sub>O</label\n                  >\n                  <input\n                    v-model=\"Na2O3\"\n                    type=\"number\"\n                    class=\"\n                      inline\n                      px-3\n                      py-1.5\n                      text-base\n                      font-normal\n                      text-gray-700\n                      bg-white bg-clip-padding\n                      border border-solid border-gray-300\n                      rounded\n                      m-0\n                      focus:text-gray-700\n                      focus:bg-white\n                      focus:border-indigo-600\n                      focus:outline-none\n                    \"\n                    aria-describedby=\"naO\"\n                  />\n                </div>\n                <div class=\"flex flex-row justify-around items-center\">\n                  <label\n                    for=\"feO\"\n                    class=\"form-label inline-block mb-2 text-gray-700\"\n                    >Fe<sub>2</sub>O<sub>3</sub></label\n                  >\n                  <input\n                    v-model=\"Fe2O3\"\n                    type=\"number\"\n                    class=\"\n                      inline\n                      px-3\n                      py-1.5\n                      text-base\n                      font-normal\n                      text-gray-700\n                      bg-white bg-clip-padding\n                      border border-solid border-gray-300\n                      rounded\n                      m-0\n                      focus:text-gray-700\n                      focus:bg-white\n                      focus:border-indigo-600\n                      focus:outline-none\n                    \"\n                    aria-describedby=\"feO\"\n                  />\n                </div>\n              </div>\n              <div class=\"form-group mb-6\">\n                <label\n                  for=\"density\"\n                  class=\"form-label inline-block mb-2 text-gray-700\"\n                  >Density (kg/m<sub>3</sub>)</label\n                >\n                <input\n                  v-model=\"density\"\n                  type=\"text\"\n                  class=\"\n                    block\n                    w-full\n                    px-3\n                    py-1.5\n                    text-base\n                    font-normal\n                    text-gray-700\n                    bg-white bg-clip-padding\n                    border border-solid border-gray-300\n                    rounded\n                    m-0\n                    focus:text-gray-700\n                    focus:bg-white\n                    focus:border-indigo-600\n                    focus:outline-none\n                  \"\n                  id=\"densityNew\"\n                  aria-describedby=\"density\"\n                  placeholder=\"Density\"\n                />\n              </div>\n              <div class=\"form-group mb-6\">\n                <label\n                  for=\"porosity\"\n                  class=\"form-label inline-block mb-2 text-gray-700\"\n                  >Porosity (%)</label\n                >\n                <input\n                  v-model=\"porosity\"\n                  type=\"number\"\n                  class=\"\n                    l\n                    block\n                    w-full\n                    px-3\n                    py-1.5\n                    text-base\n                    font-normal\n                    text-gray-700\n                    bg-white bg-clip-padding\n                    border border-solid border-gray-300\n                    rounded\n                    m-0\n                    focus:text-gray-700\n                    focus:bg-white\n                    focus:border-indigo-600\n                    focus:outline-none\n                  \"\n                  aria-describedby=\"porosity\"\n                  placeholder=\"Porosity\"\n                />\n              </div>\n              <button\n                type=\"submit\"\n                class=\"\n                  w-full\n                  inline-block\n                  px-6\n                  py-2.5\n                  bg-yellow-500\n                  text-black\n                  font-bold\n                  text-xs\n                  leading-tight\n                  uppercase\n                  rounded\n                  shadow-md\n                  hover:bg-yellow-600 hover:shadow-lg\n                  active:bg-yellow-700 active:shadow-lg\n                \"\n              >\n                Submit\n              </button>\n            </form>\n          </div>\n        </div>\n        <!--Img upload-->\n        <div>\n          <h2 class=\"mb-0\" id=\"img-heading\">\n            <button\n              type=\"button\"\n              class=\"\n                flex\n                items-center\n                justify-between\n                w-full\n                p-5\n                font-medium\n                text-left text-white\n                bg-gray-700\n                border border-b-0 border-gray-200\n                rounded-t-xl\n                hover:bg-gray-800\n              \"\n              data-accordion-target=\"#img-body\"\n              aria-expanded=\"false\"\n              aria-controls=\"img-body\"\n            >\n              Image upload\n            </button>\n          </h2>\n          <div\n            id=\"img-body\"\n            class=\"hidden text-center\"\n            aria-labelledby=\"img-heading\"\n          >\n            <div\n              class=\"accordion-body py-4 px-5 flex justify-center items-center\"\n            >\n              <div\n                class=\"\n                  block\n                  p-6\n                  rounded-lg\n                  shadow-lg\n                  bg-white\n                  m-2\n                  w-full\n                  lg:w-1/2\n                \"\n              >\n                <form @submit.prevent=\"addDImg\" method=\"post\" id=\"submitImgForm\">\n                  <div class=\"form-group mb-5\">\n                    <label\n                      for=\"materialName\"\n                      class=\"form-label inline-block mb-2 text-gray-700\"\n                      >Name of the material</label\n                    >\n                    <input\n                      v-model=\"sampleName\"\n                      type=\"text\"\n                      required\n                      class=\"\n                        form-control\n                        block\n                        w-full\n                        px-3\n                        py-1.5\n                        text-base\n                        font-normal\n                        text-gray-700\n                        bg-white bg-clip-padding\n                        border border-solid border-gray-300\n                        rounded\n                        m-0\n                        focus:text-gray-700\n                        focus:bg-white\n                        focus:border-indigo-600\n                        focus:outline-none\n                      \"\n                      id=\"materialName\"\n                      aria-describedby=\"materialName\"\n                      placeholder=\"Sample name\"\n                    />\n                  </div>\n                  <div class=\"form-group mb-6\">\n                    <label\n                      for=\"imgUpload\"\n                      class=\"form-label inline-block mb-2 text-gray-700\"\n                      >Upload an image about the sample</label\n                    >\n                    <input\n                      id=\"imgUpload\"\n                      accept=\"image/png, image/jpg, image/jpeg\"\n                      enctype=\"multipart/form-data\"\n                      required\n                      class=\"\n                        form-control\n                        block\n                        w-full\n                        px-3\n                        py-1.5\n                        text-base\n                        font-normal\n                        text-gray-700\n                        bg-white bg-clip-padding\n                        border border-solid border-gray-300\n                        rounded\n                        transition\n                        ease-in-out\n                        m-0\n                        focus:text-gray-700\n                        focus:bg-white\n                        focus:border-blue-600\n                        focus:outline-none\n                      \"\n                      type=\"file\"\n                    />\n                  </div>\n                  <button\n                    id=\"submitImgBtn\"\n                    type=\"submit\"\n                    class=\"\n                      w-full\n                      inline-block\n                      px-6\n                      py-2.5\n                      bg-yellow-500\n                      text-black\n                      font-bold\n                      text-xs\n                      leading-tight\n                      uppercase\n                      rounded\n                      shadow-md\n                      hover:bg-yellow-600 hover:shadow-lg\n                      active:bg-yellow-700 active:shadow-lg\n                    \"\n                  >\n                    Submit\n                  </button>\n                  <p id=\"requiredField\" class=\"mt-5 px-1 text-xs text-red-700\">\n                    All fields are required\n                  </p>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from \"vue\";\n\nconst props = defineProps([\"user\"]);\nlet isOpenNewSample = ref(false)\nlet isOpenImg = ref(false)\n\nconst openAccordion = (accordion) => {\n      accordion.value = true\n}\n\n// form values\nlet name = ref(null);\nlet description = ref(null);\nlet minerals = ref(null);\nlet SiO2 = ref(\"\");\nlet Al2O3 = ref(\"\");\nlet MgO = ref(\"\");\nlet CaO = ref(\"\");\nlet Na2O3 = ref(\"\");\nlet Fe2O3 = ref(\"\");\nlet density = ref(\"\");\nlet porosity = ref(\"\");\n\nlet sampleName = ref(null) // for img upload\n\nconst addData = () => {\n  let newSample = {\n    name: name.value,\n    type: \"simulant\",\n    description: description.value,\n    minerals: minerals.value,\n    SiO2: SiO2.value == \"\" || isNaN(SiO2.value) ? \"N/A\" : SiO2.value,\n    Al2O3: Al2O3.value == \"\" || isNaN(Al2O3.value) ? \"N/A\" : Al2O3.value,\n    MgO: MgO.value == \"\" || isNaN(MgO.value) ? \"N/A\" : MgO.value,\n    CaO: CaO.value == \"\" || isNaN(CaO.value) ? \"N/A\" : CaO.value,\n    Na2O3: Na2O3.value == \"\" || isNaN(Na2O3.value) ? \"N/A\" : Na2O3.value,\n    Fe2O3: Fe2O3.value == \"\" || isNaN(Fe2O3.value) ? \"N/A\" : Fe2O3.value,\n    porosity:\n      porosity.value == \"\" || isNaN(porosity.value) ? \"N/A\" : porosity.value,\n    density:\n      density.value == \"\" || isNaN(density.value) ? \"N/A\" : density.value,\n    uploadedBy: props.user.email,\n    url: \"../img/samples/noImg.png\",\n    updatedLast: Date.now(),\n    status: \"pending\",\n  };\n  console.log(newSample);\n  fetch(`http://localhost:8081/data`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify(newSample),\n  })\n    .then((res) => {\n      if (!res.ok) {\n        throw new Error(\"error\");\n      }\n      return res.text();\n    })\n    .then((data) => {\n      swal({\n        title: \"Success\",\n        text: \"New sample is added\",\n        icon: \"success\",\n      });\n    })\n    .catch((error) => {\n      console.log(error);\n      swal({\n        title: \"Error\",\n        text: \"Already existing sample name\",\n        icon: \"error\",\n      });\n    });\n  document.querySelector(\"#newSample\").reset()\n  console.log(minerals.value)\n};\n\nconst addDImg = () => {\n  let file = document.querySelector(\"#imgUpload\").files[0]\n  let email = props.user.email\n  let fileForm = new FormData()\n  fileForm.append(\"sampleName\", sampleName.value)\n  fileForm.append(\"img\", file)\n  fileForm.append(\"email\", email)\n  fetch(`http://localhost:8081/data/file`, {\n        method: 'POST',\n        body: fileForm\n    }).then(res => {\n        if (!res.ok) {\n            throw new Error(\"error\")\n        }\n        return res.text()\n    })\n        .then(data => {\n            swal({\n                title: \"Success\",\n                text: \"New image is added\",\n                icon: \"success\",\n            });\n        })\n        .catch(error => {\n            console.log(error)\n            swal({\n                title: \"Error\",\n                text: \"No sample found\",\n                icon: \"error\",\n            })\n        })\n  document.querySelector(\"#imgUpload\").value = \"\"\n  sampleName.value=\"\"\n};\n</script>\n\n<style></style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}