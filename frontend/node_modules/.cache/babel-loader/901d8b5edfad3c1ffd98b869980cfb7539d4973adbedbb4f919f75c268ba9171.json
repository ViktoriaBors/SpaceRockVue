{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/web.timers.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nvar _hoisted_1 = {\n  key: 0,\n  \"class\": \"w-full flex flex-wrap items-center justify-between py-4 bg-slate-400 hover:text-yellow-700 focus:text-yellow-800 shadow-lg navbar navbar-expand-sm text-lg\"\n};\nvar _hoisted_2 = {\n  \"class\": \"container-fluid w-full flex flex-col items-center justify-center px-6\"\n};\nvar _hoisted_3 = /*#__PURE__*/_createElementVNode(\"p\", {\n  \"class\": \"font-extrabold tracking-wider text-yellow-800\"\n}, \" SpaceRock\", -1);\nvar _hoisted_4 = /*#__PURE__*/_createElementVNode(\"p\", {\n  \"class\": \"text-center text-2xl md:text-3xl xl:text-4xl font-bold tracking-tight text-yellow-900 py-4\"\n}, \" Research Facility and Database Center for Lunar materials\", -1);\nvar _hoisted_5 = /*#__PURE__*/_createElementVNode(\"p\", {\n  \"class\": \"text-center text-yellow-800\"\n}, \" Welcome\", -1);\nvar _hoisted_6 = {\n  \"class\": \"text-center text-yellow-800\"\n};\nvar _hoisted_7 = {\n  \"class\": \"px-1 text-md font-bold capitalize\"\n};\nvar _hoisted_8 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nvar _hoisted_9 = {\n  \"class\": \"text-md font-bold\"\n};\nimport { useRouter, useRoute } from 'vue-router';\nexport default {\n  __name: 'DashboardNav',\n  props: ['user'],\n  setup: function setup(__props) {\n    var props = __props;\n\n    // for redirect\n    var router = useRouter();\n    var route = useRoute();\n    var logout = function logout() {\n      fetch(\"http://localhost:8081/user/logout\", {\n        credentials: \"include\"\n      }).then(function (res) {\n        if (!res.ok) {\n          throw new Error(\"error\");\n        }\n        return res.text();\n      }).then(function (data) {\n        swal({\n          title: \"Success\",\n          text: \"You are logged out\",\n          icon: \"success\"\n        });\n        setTimeout(function () {\n          router.push({\n            name: 'login'\n          });\n        }, 2000);\n      });\n    };\n    return function (_ctx, _cache) {\n      return props.user ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _hoisted_4, _hoisted_5, _createElementVNode(\"p\", _hoisted_6, [_createTextVNode(\" You are logged in as \"), _createElementVNode(\"span\", _hoisted_7, _toDisplayString(props.user.firstName), 1), _hoisted_8, _createElementVNode(\"span\", _hoisted_9, _toDisplayString(props.user.email), 1)])]), _createElementVNode(\"p\", {\n        onClick: logout,\n        \"class\": \"pl-2 cursor-pointer text-sm font-bold text-yellow-900\"\n      }, \"Log Out\")])) : _createCommentVNode(\"\", true);\n    };\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,YAAY;;;;;;;IAIhD;IACA,IAAMC,MAAM,GAAGF,SAAS,EAAE;IAC1B,IAAMG,KAAK,GAAGF,QAAQ,EAAE;IAExB,IAAMG,MAAM,GAAG,SAATA,MAAM,GAAS;MACjBC,KAAK,sCAAuC;QACxCC,WAAW,EAAE;MACjB,CAAC,CAAC,CACDC,IAAI,CAAC,aAAG,EAAI;QACT,IAAG,CAACC,GAAG,CAACC,EAAE,EAAC;UACP,MAAM,IAAIC,KAAK,CAAC,OAAO,CAAC;QAC5B;QACA,OAAOF,GAAG,CAACG,IAAI,EAAE;MACrB,CAAC,CAAC,CACDJ,IAAI,CAAC,cAAI,EAAI;QACVK,IAAI,CAAC;UACDC,KAAK,EAAE,SAAS;UAChBF,IAAI,EAAE,oBAAoB;UAC1BG,IAAI,EAAE;QACV,CAAC,CAAC;QACFC,UAAU,CAAC,YAAM;UACbb,MAAM,CAACc,IAAI,CAAC;YAACC,IAAI,EAAG;UAAO,CAAC,CAAC;QACjC,CAAC,EAAE,IAAI,CAAC;MACZ,CAAC,CAAC;IACN,CAAC","names":["useRouter","useRoute","router","route","logout","fetch","credentials","then","res","ok","Error","text","swal","title","icon","setTimeout","push","name"],"sources":["/home/viki/Projects/JSExamProjectFinal/Vue/SpaceRockVue/frontend/src/components/DashboardNav.vue"],"sourcesContent":["<template>\n  <!--if there is a prop - user - this topnavbar shows  dasboard-->\n    <div v-if=\"props.user\" class=\"\n        w-full\n        flex flex-wrap\n        items-center\n        justify-between\n        py-4\n        bg-slate-400\n        hover:text-yellow-700\n        focus:text-yellow-800\n        shadow-lg\n        navbar navbar-expand-sm\n        text-lg\n        \">\n        <div class=\"container-fluid w-full flex flex-col items-center justify-center px-6\">\n            <p class=\"font-extrabold tracking-wider text-yellow-800\"> SpaceRock</p>\n            <p class=\"text-center text-2xl md:text-3xl xl:text-4xl font-bold tracking-tight text-yellow-900 py-4\">\n                Research Facility and Database Center for Lunar materials</p>\n            <p class=\"text-center text-yellow-800\"> Welcome</p>\n            <p class=\"text-center text-yellow-800\"> You are logged in as \n                <span class=\"px-1 text-md font-bold capitalize\">{{props.user.firstName}}</span>  \n                 <br>\n                <span class=\"text-md font-bold\">{{props.user.email}}</span>\n            </p>\n            \n        </div>\n        <p @click=\"logout\" class=\"pl-2 cursor-pointer text-sm font-bold text-yellow-900\">Log Out</p>\n    </div>\n</template>\n\n<script setup>\nimport { useRouter, useRoute } from 'vue-router'\n\nconst props = defineProps(['user'])\n\n// for redirect\nconst router = useRouter()\nconst route = useRoute()\n\nconst logout = () => {\n    fetch(`http://localhost:8081/user/logout`,  {\n        credentials: \"include\",\n    })\n    .then(res => {\n        if(!res.ok){\n            throw new Error(\"error\")\n        } \n        return res.text()\n    })\n    .then(data => {\n        swal({\n            title: \"Success\",\n            text: \"You are logged out\",\n            icon: \"success\",\n        })\n        setTimeout(() => {\n            router.push({name : 'login'})\n        }, 2000)\n    })\n} \n\n\n</script>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}