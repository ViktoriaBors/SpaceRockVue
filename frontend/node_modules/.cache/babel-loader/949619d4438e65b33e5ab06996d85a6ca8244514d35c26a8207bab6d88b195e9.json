{"ast":null,"code":"import { createVNode as _createVNode, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelRadio as _vModelRadio, resolveComponent as _resolveComponent, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"text-justify\"\n};\nvar _hoisted_2 = {\n  \"class\": \"container mx-auto px-6 py-4 bg-slate-200\"\n};\nvar _hoisted_3 = /*#__PURE__*/_createElementVNode(\"p\", {\n  \"class\": \"pt-2 text-lg text-center font-bold py-4\"\n}, \" Here you can see your pending samples in the database. \", -1 /* HOISTED */);\nvar _hoisted_4 = {\n  action: \"GET\",\n  \"class\": \"mb-4\"\n};\nvar _hoisted_5 = {\n  \"class\": \"flex justify-center\"\n};\nvar _hoisted_6 = {\n  \"class\": \"w-full md:w-2/4\"\n};\nvar _hoisted_7 = {\n  \"class\": \"relative flex flex-wrap sm:flex-nowrap items-stretch w-full mb-2\"\n};\nvar _hoisted_8 = {\n  \"class\": \"flex flex-row justify-center items-center\"\n};\nvar _hoisted_9 = {\n  \"class\": \"p-2\"\n};\nvar _hoisted_10 = /*#__PURE__*/_createElementVNode(\"label\", {\n  \"for\": \"alphabetical\",\n  \"class\": \"cursor-pointer peer-checked:bg-yellow-600 checked:shadow-lg inline-block px-5 py-2.5 bg-indigo-300 text-gray-700 font-bold text-xs leading-tight uppercase rounded shadow-md hover:bg-indigo-400 hover:shadow-lg\"\n}, \"Alphabetical\", -1 /* HOISTED */);\nvar _hoisted_11 = {\n  \"class\": \"p-2\"\n};\nvar _hoisted_12 = /*#__PURE__*/_createElementVNode(\"label\", {\n  \"for\": \"newest\",\n  \"class\": \"cursor-pointer peer-checked:bg-yellow-600 checked:shadow-lg inline-block px-5 py-2.5 bg-indigo-300 text-gray-700 font-bold text-xs leading-tight uppercase rounded shadow-md hover:bg-indigo-400 hover:shadow-lg\"\n}, \"Newest first\", -1 /* HOISTED */);\nvar _hoisted_13 = {\n  key: 0\n};\nvar _hoisted_14 = {\n  key: 1\n};\nvar _hoisted_15 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"shadow-lg bg-white mt-2\"\n}, [/*#__PURE__*/_createElementVNode(\"h5\", {\n  \"class\": \"text-gray-900 text-md font-bold mb-2\"\n}, \"No sample found\")], -1 /* HOISTED */);\nvar _hoisted_16 = [_hoisted_15];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_SampleCardForm = _resolveComponent(\"SampleCardForm\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode($setup[\"DashboardNav\"], {\n    user: $setup.user\n  }, null, 8 /* PROPS */, [\"user\"]), _createElementVNode(\"main\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"form\", _hoisted_4, [_createCommentVNode(\"search-bar\"), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $setup.searchWord = $event;\n    }),\n    \"class\": \"form-control relative flex-auto min-w-0 block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-gray-700\",\n    placeholder: \"Search\",\n    \"aria-label\": \"Search\",\n    \"aria-describedby\": \"searchSavedBtn\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.searchWord]]), _createElementVNode(\"button\", {\n    id: \"searchSavedBtn\",\n    onClick: $setup.getData,\n    \"class\": \"btn inline-block px-6 py-2 border-2 border-gray-400 bg-yellow-500 text-black font-bold text-xs leading-tight uppercase rounded shadow-md hover:bg-yellow-600 hover:shadow-lg active:bg-yellow-700 active:shadow-lg focus:outline-none focus:ring-0 transition duration-150 ease-in-out\",\n    type: \"button\"\n  }, \" Search \")])])]), _createCommentVNode(\"sorting options\"), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    id: \"alphabetical\",\n    name: \"sorting\",\n    value: \"alphabetical\",\n    \"class\": \"hidden peer sr-only\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return $setup.alphabetical = $event;\n    })\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $setup.alphabetical]]), _hoisted_10]), _createElementVNode(\"div\", _hoisted_11, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    id: \"newest\",\n    name: \"sorting\",\n    value: \"newest\",\n    \"class\": \"hidden peer sr-only\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n      return $setup.newest = $event;\n    })\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $setup.newest]]), _hoisted_12])])]), _createCommentVNode(\"Already saved samples by user appears here - all forms plus pagination\"), $setup.sampleData.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [_createVNode(_component_SampleCardForm, {\n    data: $setup.sampleData\n  }, null, 8 /* PROPS */, [\"data\"])])) : _createCommentVNode(\"v-if\", true), $setup.noSample ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, _hoisted_16)) : _createCommentVNode(\"v-if\", true), _createVNode($setup[\"Accordion\"])])])]);\n}","map":{"version":3,"mappings":";;EAGU,SAAM;AAAc;;EACnB,SAAM;AAA0C;8BACnDA,oBAEI;EAFD,SAAM;AAAyC,GAAC,0DAEnD;;EACMC,MAAM,EAAC,KAAK;EAAC,SAAM;;;EAElB,SAAM;AAAqB;;EACzB,SAAM;AAAiB;;EAExB,SAAM;AAOL;;EA6DF,SAAM;AAA2C;;EAC/C,SAAM;AAAK;+BASdD,oBAoBC;EAnBC,OAAI,cAAc;EAClB,SAAM;GAiBL,cAAY;;EAGZ,SAAM;AAAK;+BASdA,oBAoBC;EAnBC,OAAI,QAAQ;EACZ,SAAM;GAiBL,cAAY;;;;;;;+BAUnBA,oBAEM;EAFD,SAAM;AAAyB,iBAClCA,oBAAqE;EAAjE,SAAM;AAAsC,GAAC,iBAAe;mBADlEE,WAEM;;;uBAxJdC,oBA6JM,cA5JJC,aAA6BC;IAAdC,IAAI,EAAED;EAAI,mCACzBL,oBA0JO,QA1JPO,UA0JO,GAzJLP,oBAwJM,OAxJNQ,UAwJM,GAvJJC,UAEI,EACJT,oBAyIO,QAzIPU,UAyIO,GAxILC,iCAAiB,EACjBX,oBAqEM,OArENY,UAqEM,GApEJZ,oBAmEM,OAnENa,UAmEM,GAlEJb,oBAiEM,OAjENc,UAiEM,mBAvDJd,oBA0BE;IAzBAe,IAAI,EAAC,MAAM;;aACFV,iBAAU;IAAA;IACnB,SAAM,+PAmBL;IACDW,WAAW,EAAC,QAAQ;IACpB,YAAU,EAAC,QAAQ;IACnB,kBAAgB,EAAC;iDAvBRX,iBAAU,KAyBrBL,oBA2BS;IA1BPiB,EAAE,EAAC,gBAAgB;IAClBC,OAAK,EAAEb,cAAO;IACf,SAAM,wRAoBL;IACDU,IAAI,EAAC;KACN,UAED,SAINJ,sCAAsB,EACtBX,oBA+DM,OA/DNmB,UA+DM,GA9DJnB,oBA8BM,OA9BNoB,UA8BM,mBA7BJpB,oBAOE;IANAe,IAAI,EAAC,OAAO;IACZE,EAAE,EAAC,cAAc;IACjBI,IAAI,EAAC,SAAS;IACdC,KAAK,EAAC,cAAc;IACpB,SAAM,qBAAqB;;aAClBjB,mBAAY;IAAA;kDAAZA,mBAAY,KAEvBkB,WAoBC,IAEHvB,oBA8BM,OA9BNwB,WA8BM,mBA7BJxB,oBAOE;IANAe,IAAI,EAAC,OAAO;IACZE,EAAE,EAAC,QAAQ;IACXI,IAAI,EAAC,SAAS;IACdC,KAAK,EAAC,QAAQ;IACd,SAAM,qBAAqB;;aAClBjB,aAAM;IAAA;kDAANA,aAAM,KAEjBoB,WAoBC,QAIPd,6FAA6E,EAClEN,iBAAU,CAACqB,MAAM,kBAA5BvB,oBAEM,qBADJC,aAAoCuB;IAAnBC,IAAI,EAAEvB;EAAU,0EAEvBA,eAAQ,kBAAnBF,oBAIK,uEACNC,aAAaC","names":["_createElementVNode","action","_hoisted_15","_createElementBlock","_createVNode","$setup","user","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createCommentVNode","_hoisted_5","_hoisted_6","_hoisted_7","type","placeholder","id","onClick","_hoisted_8","_hoisted_9","name","value","_hoisted_10","_hoisted_11","_hoisted_12","length","_component_SampleCardForm","data"],"sourceRoot":"","sources":["/home/viki/Projects/JSExamProjectFinal/Vue/SpaceRockVue/frontend/src/views/DashboardView.vue"],"sourcesContent":["<template>\n  <div>\n    <DashboardNav :user=\"user\" />\n    <main class=\"text-justify\">\n      <div class=\"container mx-auto px-6 py-4 bg-slate-200\">\n        <p class=\"pt-2 text-lg text-center font-bold py-4\">\n          Here you can see your pending samples in the database.\n        </p>\n        <form action=\"GET\" class=\"mb-4\">\n          <!--search-bar-->\n          <div class=\"flex justify-center\">\n            <div class=\"w-full md:w-2/4\">\n              <div\n                class=\"\n                  relative\n                  flex flex-wrap\n                  sm:flex-nowrap\n                  items-stretch\n                  w-full\n                  mb-2\n                \"\n              >\n                <input\n                  type=\"text\"\n                  v-model=\"searchWord\"\n                  class=\"\n                    form-control\n                    relative\n                    flex-auto\n                    min-w-0\n                    block\n                    w-full\n                    px-3\n                    py-1.5\n                    text-base\n                    font-normal\n                    text-gray-700\n                    bg-white bg-clip-padding\n                    border border-solid border-gray-300\n                    rounded\n                    transition\n                    ease-in-out\n                    m-0\n                    focus:text-gray-700 focus:bg-white focus:border-gray-700\n                  \"\n                  placeholder=\"Search\"\n                  aria-label=\"Search\"\n                  aria-describedby=\"searchSavedBtn\"\n                />\n                <button\n                  id=\"searchSavedBtn\"\n                  @click=\"getData\"\n                  class=\"\n                    btn\n                    inline-block\n                    px-6\n                    py-2\n                    border-2 border-gray-400\n                    bg-yellow-500\n                    text-black\n                    font-bold\n                    text-xs\n                    leading-tight\n                    uppercase\n                    rounded\n                    shadow-md\n                    hover:bg-yellow-600 hover:shadow-lg\n                    active:bg-yellow-700 active:shadow-lg\n                    focus:outline-none focus:ring-0\n                    transition\n                    duration-150\n                    ease-in-out\n                  \"\n                  type=\"button\"\n                >\n                  Search\n                </button>\n              </div>\n            </div>\n          </div>\n          <!--sorting options-->\n          <div class=\"flex flex-row justify-center items-center\">\n            <div class=\"p-2\">\n              <input\n                type=\"radio\"\n                id=\"alphabetical\"\n                name=\"sorting\"\n                value=\"alphabetical\"\n                class=\"hidden peer sr-only\"\n                v-model=\"alphabetical\"\n              />\n              <label\n                for=\"alphabetical\"\n                class=\"\n                  cursor-pointer\n                  peer-checked:bg-yellow-600\n                  checked:shadow-lg\n                  inline-block\n                  px-5\n                  py-2.5\n                  bg-indigo-300\n                  text-gray-700\n                  font-bold\n                  text-xs\n                  leading-tight\n                  uppercase\n                  rounded\n                  shadow-md\n                  hover:bg-indigo-400 hover:shadow-lg\n                \"\n                >Alphabetical</label\n              >\n            </div>\n            <div class=\"p-2\">\n              <input\n                type=\"radio\"\n                id=\"newest\"\n                name=\"sorting\"\n                value=\"newest\"\n                class=\"hidden peer sr-only\"\n                v-model=\"newest\"\n              />\n              <label\n                for=\"newest\"\n                class=\"\n                  cursor-pointer\n                  peer-checked:bg-yellow-600\n                  checked:shadow-lg\n                  inline-block\n                  px-5\n                  py-2.5\n                  bg-indigo-300\n                  text-gray-700\n                  font-bold\n                  text-xs\n                  leading-tight\n                  uppercase\n                  rounded\n                  shadow-md\n                  hover:bg-indigo-400 hover:shadow-lg\n                \"\n                >Newest first</label\n              >\n            </div>\n          </div>\n        </form>\n        <!--Already saved samples by user appears here - all forms plus pagination-->\n        <div v-if=\"sampleData.length\">\n          <SampleCardForm :data=\"sampleData\"/> \n        </div>\n         <div v-if=\"noSample\">\n          <div class=\"shadow-lg bg-white mt-2\">\n            <h5 class=\"text-gray-900 text-md font-bold mb-2\">No sample found</h5>\n          </div>  \n        </div>\n        <Accordion />\n      </div>\n    </main>\n  </div>\n</template>\n\n<script setup>\nimport DashboardNav from \"../components/DashboardNav.vue\";\nimport BottomFooter from \"../components/BottomFooter.vue\";\nimport Accordion from \"../components/Accordion.vue\";\nimport SampleCardFrom from \"../components/SampleCardForm.vue\";\nimport { ref } from \"vue\";\nimport { useRouter, useRoute } from 'vue-router'\nlet imgSource = \"(img/pexels-mike-b-383559.jpg)\";\n\nconst user = ref(null);\n\n// for redirect\nconst router = useRouter()\nconst route = useRoute()\n// during \"create\" = setup - check user session\nfetch(`http://localhost:8081/user`, {\n  credentials: \"include\",\n})\n  .then((res) => {\n    if (!res.ok) {\n      throw new Error(\"error\");\n    } else return res.json();\n  })\n  .then((data) => {\n    console.log(data);\n    user.value = data;\n  })\n  .catch((error) => {\n    console.log(error);\n    swal({\n      title: \"Error\",\n      text: \"Access Denied\",\n      icon: \"error\",\n    });\n    setTimeout(() => {\n      router.push({ name: \"login\" });\n    }, 2000);\n  });\n\n// Get sample data - user specific\nlet searchWord = ref(\"\")\nlet alphabetical = ref(false)\nlet newest = ref(false)\n\nlet sampleData = ref([])\nlet noSample = ref(false)\n\nconst getData = () => {\n  console.log(\"search\")\n  let email = user.value.email\n  fetch(`http://localhost:8081/data/modify?word=${searchWord.value}&alphabetic=${alphabetical.value.checked}&newest=${newest.value.checked}&email=${email}`)\n    .then(res => res.json())\n    .then(data => {\n      console.log(data)\n      sampleData.value = data\n      if(data.length === 0){\n        noSample.value = true\n      } else {\n        noSample.value = false\n      }\n    })\n}\n</script>\n\n<style>\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}